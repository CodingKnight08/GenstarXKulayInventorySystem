@using static GenstarXKulayInventorySystem.Shared.Helpers.ProductsEnumHelpers
@using GenstarXKulayInventorySystem.Shared.DTOS;
@if (IsLoading)
{
    <MudCard Elevation="10" Class="w-100 d-flex flex-column align-items-center justify-content-center">
        <MudProgressCircular Color="Color.Info" Indeterminate=true Size="Size.Small" Rounded=true />
        <MudText Align="Align.Center" Typo="Typo.subtitle2">Loading Sale Items</MudText>
    </MudCard>
}
else
{
    <MudCard Elevation="0" Class="w-100">
        <MudTable T="SaleItemDto" @ref="saleItemsTable" ServerData="ServerLoadData" Striped=true Bordered="true" Hover="true" Elevation="10">
            <HeaderContent>
                <MudTh>Item Name</MudTh>
                <MudTh>Size</MudTh>
                <MudTh>Unit</MudTh>
                <MudTh>Quantity</MudTh>
                <MudTh>Paint Category</MudTh>
                <MudTh>Price</MudTh>
                <MudTh>Description</MudTh>
                <MudTh>Actions</MudTh>
            </HeaderContent>

            <RowTemplate>
                <MudTd>@context.ItemName</MudTd>
                <MudTd>@context.Size</MudTd>
                <MudTd>@context.UnitMeasurement</MudTd>
                <MudTd>@context.Quantity</MudTd>
                <MudTd>@context.PaintCategory</MudTd>
                <MudTd>@context.ItemPrice</MudTd>
                <MudTd>@context.Description</MudTd>
                <MudTd>
                    <MudIconButton Icon="@Icons.Material.Filled.Visibility" Size="Size.Small" Color="Color.Info" Disabled="@(context.PaintCategory != PaintCategory.Mix)" OnClick="()=>ViewSaleItemAsync(context.Id)"/>
                </MudTd>
            </RowTemplate>

            <NoRecordsContent>
                <MudText Typo="Typo.subtitle2" Align="Align.Center" Color="Color.Warning">
                    No Items
                </MudText>
            </NoRecordsContent>
           <PagerContent>
                <MudTablePager HorizontalAlignment="HorizontalAlignment.Center" PageSizeOptions="@(new int[] { 5, 10, 20 })" />
           </PagerContent>
        </MudTable>
    </MudCard>
}
